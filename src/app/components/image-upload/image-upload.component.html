<div class="image-upload-container">
    <!-- Category Selection -->
    <div class="mb-4">
        <label for="category" class="block text-sm font-semibold text-gray-300 mb-2">
            <span class="material-icons text-sm align-middle mr-1">category</span>
            Select Category
        </label>
        <select id="category" [(ngModel)]="selectedCategory"
            class="category-select w-full bg-gray-800 border-2 border-gray-600 rounded-lg px-4 py-2.5 text-white focus:border-red-500 focus:outline-none transition-colors">
            @for (category of categories; track category.id) {
            <option [value]="category.id">{{ category.name }}</option>
            }
        </select>
        <p class="text-xs text-gray-400 mt-1">Images will be tagged with this category in Cloudinary</p>
    </div>

    <!-- Upload Button -->
    <button class="upload-button" (click)="openUploadWidget()" [disabled]="isUploading">
        <span class="material-icons">cloud_upload</span>
        <span>{{ isUploading ? 'Uploading...' : 'Upload Image' }}</span>
    </button>

    <!-- Success Message -->
    <div class="message success-message" *ngIf="uploadSuccess">
        <span class="material-icons">check_circle</span>
        <span>{{ uploadSuccess }}</span>
    </div>

    <!-- Error Message -->
    <div class="message error-message" *ngIf="uploadError">
        <span class="material-icons">error</span>
        <span>{{ uploadError }}</span>
    </div>

    <!-- Upload Instructions -->
    <p class="upload-instructions">
        Click the button above to upload tow truck images to your gallery.
        Supported formats: JPG, PNG, WebP (Max 5MB)
    </p>
</div>